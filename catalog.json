{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/catalog/v1.json", "dbt_version": "1.9.3", "generated_at": "2025-03-24T05:08:05.825322Z", "invocation_id": "4d0657e3-549c-44a8-8df1-4e9787e7616d", "env": {}}, "nodes": {"seed.scooters.age_groups": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "age_groups", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"group": {"type": "text", "index": 1, "name": "group", "comment": null}, "age_start": {"type": "integer", "index": 2, "name": "age_start", "comment": null}, "age_end": {"type": "integer", "index": 3, "name": "age_end", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "seed.scooters.age_groups"}, "model.scooters.companies": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "companies", "database": "dbt_scooters", "comment": "Scooter satistics by company", "owner": "dbt_scooters"}, "columns": {"company": {"type": "text", "index": 1, "name": "company", "comment": null}, "models": {"type": "bigint", "index": 2, "name": "models", "comment": null}, "scooters": {"type": "bigint", "index": 3, "name": "scooters", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.companies"}, "model.scooters.companies_trips": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "companies_trips", "database": "dbt_scooters", "comment": "Trip satistics by company", "owner": "dbt_scooters"}, "columns": {"company": {"type": "text", "index": 1, "name": "company", "comment": "Scooters manufacturing company"}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}, "scooters": {"type": "bigint", "index": 3, "name": "scooters", "comment": null}, "trips_per_scooter": {"type": "double precision", "index": 4, "name": "trips_per_scooter", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.companies_trips"}, "seed.scooters.event_types": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "event_types", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"type_id": {"type": "integer", "index": 1, "name": "type_id", "comment": null}, "type": {"type": "text", "index": 2, "name": "type", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "seed.scooters.event_types"}, "model.scooters.events_clean": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "events_clean", "database": "dbt_scooters", "comment": "User events without duplicates", "owner": "dbt_scooters"}, "columns": {"user_id": {"type": "bigint", "index": 1, "name": "user_id", "comment": null}, "timestamp": {"type": "timestamp without time zone", "index": 2, "name": "timestamp", "comment": null}, "type_id": {"type": "bigint", "index": 3, "name": "type_id", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 4, "name": "updated_at", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.events_clean"}, "model.scooters.events_full": {"metadata": {"type": "VIEW", "schema": "scooters", "name": "events_full", "database": "dbt_scooters", "comment": "User events enriched with meaningful types", "owner": "dbt_scooters"}, "columns": {"type_id": {"type": "bigint", "index": 1, "name": "type_id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "timestamp": {"type": "timestamp without time zone", "index": 3, "name": "timestamp", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 4, "name": "updated_at", "comment": null}, "type": {"type": "text", "index": 5, "name": "type", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.events_full"}, "model.scooters.events_stat": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "events_stat", "database": "dbt_scooters", "comment": "Overall user events statistics", "owner": "dbt_scooters"}, "columns": {"cancel_pct": {"type": "double precision", "index": 1, "name": "cancel_pct", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.events_stat"}, "model.scooters.parking_finish_stat": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "parking_finish_stat", "database": "dbt_scooters", "comment": "Trip finish parking statistics by 10 m hexagons", "owner": "dbt_scooters"}, "columns": {"geom": {"type": "geometry", "index": 1, "name": "geom", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.parking_finish_stat"}, "model.scooters.parking_start_stat": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "parking_start_stat", "database": "dbt_scooters", "comment": "Trip start parking statistics by 500 m hexagons", "owner": "dbt_scooters"}, "columns": {"geom": {"type": "geometry", "index": 1, "name": "geom", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.parking_start_stat"}, "seed.scooters.scooters": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "scooters", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"company": {"type": "text", "index": 1, "name": "company", "comment": null}, "model": {"type": "text", "index": 2, "name": "model", "comment": null}, "hardware_id": {"type": "text", "index": 3, "name": "hardware_id", "comment": null}, "scooters": {"type": "integer", "index": 4, "name": "scooters", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "seed.scooters.scooters"}, "model.scooters.trips_age_daily": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_age_daily", "database": "dbt_scooters", "comment": "Daily trips statistics by user age", "owner": "dbt_scooters"}, "columns": {"date": {"type": "date", "index": 1, "name": "date", "comment": null}, "age": {"type": "numeric", "index": 2, "name": "age", "comment": null}, "trips": {"type": "bigint", "index": 3, "name": "trips", "comment": null}, "revenue_rub": {"type": "numeric", "index": 4, "name": "revenue_rub", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_age_daily"}, "model.scooters.trips_age_daily_stat": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_age_daily_stat", "database": "dbt_scooters", "comment": "Aggregation of daily trips statistics by user age", "owner": "dbt_scooters"}, "columns": {"age": {"type": "numeric", "index": 1, "name": "age", "comment": null}, "avg_trips": {"type": "numeric", "index": 2, "name": "avg_trips", "comment": null}, "avg_revenue_rub": {"type": "numeric", "index": 3, "name": "avg_revenue_rub", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_age_daily_stat"}, "model.scooters.trips_age_group": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_age_group", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"age_group": {"type": "text", "index": 1, "name": "age_group", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}, "revenue_rub": {"type": "numeric", "index": 3, "name": "revenue_rub", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_age_group"}, "model.scooters.trips_concurrency": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_concurrency", "database": "dbt_scooters", "comment": "Number of simultaneous rides in time", "owner": "dbt_scooters"}, "columns": {"timestamp": {"type": "timestamp with time zone", "index": 1, "name": "timestamp", "comment": null}, "concurrency": {"type": "numeric", "index": 2, "name": "concurrency", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 3, "name": "updated_at", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_concurrency"}, "model.scooters.trips_geom": {"metadata": {"type": "VIEW", "schema": "scooters", "name": "trips_geom", "database": "dbt_scooters", "comment": "Trips prepared for geometry analysis", "owner": "dbt_scooters"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "start_point": {"type": "geometry", "index": 2, "name": "start_point", "comment": null}, "finish_point": {"type": "geometry", "index": 3, "name": "finish_point", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_geom"}, "model.scooters.trips_prep": {"metadata": {"type": "VIEW", "schema": "scooters", "name": "trips_prep", "database": "dbt_scooters", "comment": "Trips prepared for analysis", "owner": "dbt_scooters"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "scooter_hw_id": {"type": "character varying", "index": 3, "name": "scooter_hw_id", "comment": null}, "started_at": {"type": "timestamp with time zone", "index": 4, "name": "started_at", "comment": null}, "finished_at": {"type": "timestamp with time zone", "index": 5, "name": "finished_at", "comment": null}, "start_lat": {"type": "double precision", "index": 6, "name": "start_lat", "comment": null}, "start_lon": {"type": "double precision", "index": 7, "name": "start_lon", "comment": null}, "finish_lat": {"type": "double precision", "index": 8, "name": "finish_lat", "comment": null}, "finish_lon": {"type": "double precision", "index": 9, "name": "finish_lon", "comment": null}, "distance_m": {"type": "double precision", "index": 10, "name": "distance_m", "comment": null}, "price_rub": {"type": "numeric(20,2)", "index": 11, "name": "price_rub", "comment": null}, "duration_s": {"type": "numeric", "index": 12, "name": "duration_s", "comment": null}, "is_free": {"type": "boolean", "index": 13, "name": "is_free", "comment": null}, "date": {"type": "date", "index": 14, "name": "date", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_prep"}, "model.scooters.trips_stat": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_stat", "database": "dbt_scooters", "comment": "Overall trips statistics", "owner": "dbt_scooters"}, "columns": {"trips": {"type": "bigint", "index": 1, "name": "trips", "comment": null}, "users": {"type": "bigint", "index": 2, "name": "users", "comment": null}, "avg_duration_m": {"type": "numeric", "index": 3, "name": "avg_duration_m", "comment": null}, "distance_km": {"type": "double precision", "index": 4, "name": "distance_km", "comment": null}, "revenue_rub": {"type": "numeric", "index": 5, "name": "revenue_rub", "comment": null}, "free_trips_pct": {"type": "double precision", "index": 6, "name": "free_trips_pct", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_stat"}, "model.scooters.trips_stat_daily": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_stat_daily", "database": "dbt_scooters", "comment": "Overall trips statistics per day", "owner": "dbt_scooters"}, "columns": {"date": {"type": "date", "index": 1, "name": "date", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}, "max_price_rub": {"type": "numeric", "index": 3, "name": "max_price_rub", "comment": null}, "avg_distance_km": {"type": "double precision", "index": 4, "name": "avg_distance_km", "comment": null}, "avg_price_rub_per_min": {"type": "numeric", "index": 5, "name": "avg_price_rub_per_min", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_stat_daily"}, "model.scooters.trips_users": {"metadata": {"type": "BASE TABLE", "schema": "scooters", "name": "trips_users", "database": "dbt_scooters", "comment": "Prepared trips enriched with users data", "owner": "dbt_scooters"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "scooter_hw_id": {"type": "character varying", "index": 3, "name": "scooter_hw_id", "comment": null}, "started_at": {"type": "timestamp with time zone", "index": 4, "name": "started_at", "comment": null}, "finished_at": {"type": "timestamp with time zone", "index": 5, "name": "finished_at", "comment": null}, "start_lat": {"type": "double precision", "index": 6, "name": "start_lat", "comment": null}, "start_lon": {"type": "double precision", "index": 7, "name": "start_lon", "comment": null}, "finish_lat": {"type": "double precision", "index": 8, "name": "finish_lat", "comment": null}, "finish_lon": {"type": "double precision", "index": 9, "name": "finish_lon", "comment": null}, "distance_m": {"type": "double precision", "index": 10, "name": "distance_m", "comment": null}, "price_rub": {"type": "numeric(20,2)", "index": 11, "name": "price_rub", "comment": null}, "duration_s": {"type": "numeric", "index": 12, "name": "duration_s", "comment": null}, "is_free": {"type": "boolean", "index": 13, "name": "is_free", "comment": null}, "date": {"type": "date", "index": 14, "name": "date", "comment": null}, "sex": {"type": "character varying", "index": 15, "name": "sex", "comment": null}, "age": {"type": "numeric", "index": 16, "name": "age", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 17, "name": "updated_at", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.trips_users"}, "model.scooters.revenue_daily": {"metadata": {"type": "BASE TABLE", "schema": "scooters_finance", "name": "revenue_daily", "database": "dbt_scooters", "comment": "Summary daily revenue", "owner": "dbt_scooters"}, "columns": {"date": {"type": "date", "index": 1, "name": "date", "comment": "Unique day"}, "revenue_rub": {"type": "numeric(20,2)", "index": 2, "name": "revenue_rub", "comment": "Daily revenue in rubles"}, "updated_at": {"type": "timestamp with time zone", "index": 3, "name": "updated_at", "comment": "When row was updated last time"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.scooters.revenue_daily"}}, "sources": {"source.scooters.scooters_raw.events": {"metadata": {"type": "BASE TABLE", "schema": "scooters_raw", "name": "events", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"user_id": {"type": "bigint", "index": 1, "name": "user_id", "comment": null}, "timestamp": {"type": "timestamp without time zone", "index": 2, "name": "timestamp", "comment": null}, "type_id": {"type": "bigint", "index": 3, "name": "type_id", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.scooters.scooters_raw.events"}, "source.scooters.scooters_raw.trips": {"metadata": {"type": "BASE TABLE", "schema": "scooters_raw", "name": "trips", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "scooter_hw_id": {"type": "character varying", "index": 3, "name": "scooter_hw_id", "comment": null}, "started_at": {"type": "timestamp with time zone", "index": 4, "name": "started_at", "comment": null}, "finished_at": {"type": "timestamp with time zone", "index": 5, "name": "finished_at", "comment": null}, "start_lat": {"type": "double precision", "index": 6, "name": "start_lat", "comment": null}, "start_lon": {"type": "double precision", "index": 7, "name": "start_lon", "comment": null}, "finish_lat": {"type": "double precision", "index": 8, "name": "finish_lat", "comment": null}, "finish_lon": {"type": "double precision", "index": 9, "name": "finish_lon", "comment": null}, "distance": {"type": "double precision", "index": 10, "name": "distance", "comment": null}, "price": {"type": "bigint", "index": 11, "name": "price", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.scooters.scooters_raw.trips"}, "source.scooters.scooters_raw.users": {"metadata": {"type": "BASE TABLE", "schema": "scooters_raw", "name": "users", "database": "dbt_scooters", "comment": null, "owner": "dbt_scooters"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "first_name": {"type": "character varying", "index": 2, "name": "first_name", "comment": null}, "last_name": {"type": "character varying", "index": 3, "name": "last_name", "comment": null}, "phone": {"type": "character varying", "index": 4, "name": "phone", "comment": null}, "sex": {"type": "character varying", "index": 5, "name": "sex", "comment": null}, "birth_date": {"type": "date", "index": 6, "name": "birth_date", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.scooters.scooters_raw.users"}}, "errors": null}